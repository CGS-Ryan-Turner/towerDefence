<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>
		Tower Defence
	</title>
	<style>
	    body {
	        background-color: #007500;
	    }
	    #block1 {
	        background-color: gray;
	        position: fixed;
	        width: 350px;
	        height: 100px;
	        top: 400px;
	        left: -50px;
	        border-radius:50px;
	    }
	    #block2 {
	        background-color: gray;
	        position: fixed;
	        width: 100px;
	        height: 200px;
	        top: 400px;
	        left: 200px;
	        border-radius:50px;
	    }
	    #block3 {
	        background-color: gray;
	        position: fixed;
	        width: 700px;
	        height: 100px;
	        top: 500px;
	        left: 200px;
	        border-radius:50px;
	    }
	    #block4 {
	        background-color: gray;
	        position: fixed;
	        width: 100px;
	        height: 500px;
	        top: 100px;
	        left: 800px;
	        border-radius:50px;
	    }
	    #block5 {
	        background-color: gray;
	        position: fixed;
	        width: 700px;
	        height: 100px;
	        top: 100px;
	        left: 200px;
	        border-radius:50px;
	    }
	    #block6 {
	        background-color: gray;
	        position: fixed;
	        width: 100px;
	        height: 200px;
	        top: 100px;
	        left: 200px;
	        border-radius:50px;
	    }
	    #block7 {
	        background-color: gray;
	        position: fixed;
	        width: 350px;
	        height: 100px;
	        top: 200px;
	        left: -50px;
	        border-radius:50px;
	    }
	    #aroundBlock1 {
	        position: fixed;
	        width: 350px;
	        height: 100px;
	        top: 400px;
	        left: -50px;
	    }
	    #aroundBlock2 {
	        position: fixed;
	        width: 100px;
	        height: 200px;
	        top: 400px;
	        left: 200px;
	    }
	    #aroundBlock3 {
	        position: fixed;
	        width: 700px;
	        height: 100px;
	        top: 500px;
	        left: 200px;
	    }
	    #aroundBlock4 {
	        position: fixed;
	        width: 100px;
	        height: 500px;
	        top: 100px;
	        left: 800px;
	    }
	    #aroundBlock5 {
	        position: fixed;
	        width: 700px;
	        height: 100px;
	        top: 100px;
	        left: 200px;
	    }
	    #aroundBlock6 {
	        position: fixed;
	        width: 100px;
	        height: 200px;
	        top: 100px;
	        left: 200px;
	    }
	    #aroundBlock7 {
	        position: fixed;
	        width: 350px;
	        height: 100px;
	        top: 200px;
	        left: -50px;
	    }
	    #towerPlacing {
	        position: fixed;
	        width: 1000px;
	        height: 700px;
	        top: 0px;
	        left: 0px;
	        background-color: #007500;
	        border: 5px solid gray;
	    }
	    @-webkit-keyframes moveToPlace{
      	0%{transform:rotate(0deg);top:0px;left:20%;}
      	100%{transform:rotate(0deg);top:100px;left:20%;}
      }
	  
	  #selectTower {
	    position: fixed;
	    background-color: rgba(0,0,255,0.2);
	    top: 1px;
	    left: 1px;
	    z-index: 50;
	    text-align: center;
	    font-size: 10px;
	  }
	  
	  #archerTower {
	      position: relative;
	      height: 25px;
	      width: 25px;
	      top: 0px;
	      left: 0px;
	      background-color: blue;
	  }
	  #bombTower {
	      position: relative;
	      height: 25px;
	      width: 25px;
	      top: -25px;
	      left: 75px;
	      background-color: purple;
	  }
	  #sniperTower {
	      position: relative;
	      height: 25px;
	      width: 25px;
	      top: 14px;
	      left: 0px;
	      background-color: red;
	  }
	  #magicianTower {
	      position: relative;
	      height: 25px;
	      width: 25px;
	      top: -11px;
	      left: 75px;
	      background-color: yellow;
	  }
	  #upgradeTower {
	      position: fixed;
	      background-color: rgba(0,0,255,0.2);
	      top: 1px;
	      left: 1px;
	      z-index: 600;
	      text-align: center;
	      color: red;
	      font-size: 15px;
	  }
	  #sellTower {
	      position: relative;
	      height: 25px;
	      width: 25px;
	      top: 0px;
	      left: 0px;
	      background-color: yellow;
	      z-index: 600;
	  }
	  #upgrade {
	      position: relative;
	      height: 25px;
	      width: 25px;
	      top: -25px;
	      left: 75px;
	      background-color: yellow;
	      z-index: 600;
	  }
	  #playButton {
	      position: fixed;
	      top: 10px;
	      left: 1050px;
	      background-color: yellow;
	      border: 3px solid black;
	      border-style: outset;
	      text-align: center;
	      width: 150px;
	      height: 75px;
	      box-shadow: 10px 10px 5px black;
	  }
	  #moneyAndScoreDisplay {
	      position: fixed;
	      top: 100px;
	      left: 1050px;
	      text-align: center;
	      width: 150px;
	      height: 75px;
	  }
	  #moneyDisplay {
	      color: yellow;
	  }
	  #scoreDisplay {
	      color: blue;
	  }
	  #livesDisplay {
	      color: red;
	  }
	  @-webkit-keyframes track{
      	0%{transform:rotate(0deg);top:425px;left:-75px;}
      	4%{transform:rotate(0deg);top:425px;left:25px;}
      	8%{transform:rotate(0deg);top:425px;left:125px;}
      	12%{transform:rotate(0deg);top:425px;left:225px;}
      	16%{transform:rotate(0deg);top:525px;left:225px;}
      	20%{transform:rotate(0deg);top:525px;left:325px;}
      	24%{transform:rotate(0deg);top:525px;left:425px;}
      	28%{transform:rotate(0deg);top:525px;left:525px;}
      	32%{transform:rotate(0deg);top:525px;left:625px;}
      	36%{transform:rotate(0deg);top:525px;left:725px;}
      	40%{transform:rotate(0deg);top:525px;left:825px;}
      	44%{transform:rotate(0deg);top:425px;left:825px;}
      	48%{transform:rotate(0deg);top:325px;left:825px;}
      	52%{transform:rotate(0deg);top:225px;left:825px;}
      	56%{transform:rotate(0deg);top:125px;left:825px;}
      	60%{transform:rotate(0deg);top:125px;left:725px;}
      	64%{transform:rotate(0deg);top:125px;left:625px;}
      	68%{transform:rotate(0deg);top:125px;left:525px;}
      	72%{transform:rotate(0deg);top:125px;left:425px;}
      	76%{transform:rotate(0deg);top:125px;left:325px;}
      	80%{transform:rotate(0deg);top:125px;left:225px;}
      	84%{transform:rotate(0deg);top:225px;left:225px;}
      	88%{transform:rotate(0deg);top:225px;left:125px;}
      	92%{transform:rotate(0deg);top:225px;left:25px;}
      	96%{transform:rotate(0deg);top:225px;left:-75px;}
      	100%{transform:rotate(0deg);top:-1000px;left:-1000px;}
      }
      #test {
          position: fixed;
          height: 50px;
          width: 50px;
          background-color: red;
          -webkit-animation:track 25s infinite;
          -webkit-border-radius:5px;
      }
      .enemy {
        position: fixed;
        -webkit-animation:none 25s forwards;
        -webkit-border-radius:5px;
      }
      .arrow {
        position: fixed;
        top: -100px;
        left: -100px;
        z-index: 10;
        -webkit-animation:none 0.5s forwards;
        -webkit-border-radius:5px;
      }
      .magic {
        position: fixed;
        top: -100px;
        left: -100px;
        z-index: 10;
        -webkit-animation:none 0.5s forwards;
        -webkit-border-radius:5px;  
      }
      .bullet {
        position: fixed;
        top: -100px;
        left: -100px;
        z-index: 10;
        -webkit-animation:none 0.4s forwards;
        -webkit-border-radius:5px;  
      }
      .bomb {
        position: fixed;
        top: -100px;
        left: -100px;
        z-index: 10;
        -webkit-animation:none 0.5s forwards;
        -webkit-border-radius:5px;   
      }
      .explosion {
        position: fixed;
        width: 200px;
        height: 200px;
      }
      @-webkit-keyframes shoot {
      	0%{transform:rotate(0deg);top:-100px;left:200px;}
      	100%{transform:rotate(0deg);top:-100px;left:300px;}
      }
      #towerInfoDisplay {
        position: fixed;
        top: 300px;
	    left: 1030px;
	    background-color: gray;
	    border: 3px solid black;
        border-style: outset;
	    text-align: center;
	    width: 225px;
	    height: 300px;
	    padding-top: 10px;
      }
      .upgradeText {
        color: green;  
      }
      .range {
        /*
        background-image:
        -webkit-gradient(
              background-color: rgba(255,255,255,0.2);,
              background-color: rgba(255,255,255,0.5);
            );
        background-color: rgba(255,255,255,0.2); 
        
        background-image: radial-gradient(white,#f06d06);
        */
        /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#f7f9f9+0,dce5e8+100&0.2+0,0.5+100 */
        background: -moz-radial-gradient(center, ellipse cover, rgba(247,249,249,0.1) 0%, rgba(220,229,232,0.5) 100%); /* FF3.6+ */
        background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,rgba(247,249,249,0.1)), color-stop(100%,rgba(220,229,232,0.5))); /* Chrome,Safari4+ */
        background: -webkit-radial-gradient(center, ellipse cover, rgba(247,249,249,0.1) 0%,rgba(220,229,232,0.5) 100%); /* Chrome10+,Safari5.1+ */
        background: -o-radial-gradient(center, ellipse cover, rgba(247,249,249,0.1) 0%,rgba(220,229,232,0.5) 100%); /* Opera 12+ */
        background: -ms-radial-gradient(center, ellipse cover, rgba(247,249,249,0.1) 0%,rgba(220,229,232,0.5) 100%); /* IE10+ */
        background: radial-gradient(ellipse at center, rgba(247,249,249,0.1) 0%,rgba(220,229,232,0.5) 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#33f7f9f9', endColorstr='#80dce5e8',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
        position: fixed;
        z-index: 101;
        border: 1px solid rgba(255,255,255,0.6);
        left: -10000px;
        top: -10000px;
      }
      #archerRange {
        width: 500px;
        height: 500px;
      }
      #wizardRange {
        width: 400px;
        height: 400px;
      }
      #sniperRange {
        width: 1300px;
        height: 1300px;
      }
      #bombRange {
        width: 500px;
        height: 500px;
      }
	</style>
	<script>
	    //Javascript --------------------------------------------------------------------------------------------------------
	    //-webkit-animation:moveToPlace 2s infinite;
	    var arrayToReturn = []
	    var allowedToBuildTower = true
	    var arrayOfTowers = []
	    var levelToUpgrade = 1
	    var canPlay = true
	    var lvl = 1
	    var numberOfEnemies = 0
	    var arrowToUse = 0
	    var magicBallToUse = 0
	    var bulletToUse = 0
	    var bombToUse = 0
	    var explosion = 0
	    var bombsDeleted = 0
	    var constructedTower = 0
	    var arrayOfEnemies = ["enemy1d1", "enemy1d2", "enemy1d3", "enemy1d4", "enemy1d5", "enemy1d6", "enemy1d7", "enemy1d8", "enemy1d9", "enemy1d10", "enemy1d11", "enemy1d12", "enemy1d13", "enemy1d14", "enemy1d15", "enemy1d16", "enemy1d17", "enemy1d18", "enemy1d19", "enemy1d20", "enemy2d1", "enemy2d2", "enemy2d3", "enemy2d4", "enemy2d5", "enemy2d6", "enemy2d7", "enemy2d8", "enemy2d9", "enemy2d30", "enemy2d31", "enemy2d32", "enemy2d33", "enemy2d34", "enemy2d35", "enemy2d36", "enemy2d37", "enemy2d38", "enemy2d39", "enemy2d40"]
	    var arrayOfEnemiesHealth = [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150]
	    var arrayOfOriginalEnemiesHealth = [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 150, 150, 150, 150, 150, 150, 150, 150, 150, 150]
	    var lvl1 = ["enemy1d1", "enemy1d2", "enemy1d3", "enemy1d4", "enemy1d5", "enemy1d6", "enemy1d7", "enemy1d8", "enemy1d9", "enemy1d10", "enemy2d1", "enemy2d2", "enemy2d3", "enemy2d4", "enemy2d5", "enemy2d6", "enemy2d7", "enemy2d8", "enemy2d9", "enemy2d10"]
	    var lvl2 = ["enemy2d1", "enemy2d2", "enemy2d3", "enemy2d4", "enemy2d5", "enemy2d6", "enemy2d7", "enemy2d8", "enemy2d9", "enemy2d10", "enemy2d11", "enemy2d12", "enemy2d13", "enemy2d14", "enemy2d15", "enemy2d16", "enemy2d17", "enemy2d18", "enemy2d19", "enemy2d20", "enemy2d21", "enemy2d22", "enemy2d23", "enemy2d24", "enemy2d25", "enemy2d26", "enemy2d27", "enemy2d28", "enemy2d29", "enemy2d30", "enemy2d31", "enemy2d32", "enemy2d33", "enemy2d34", "enemy2d35", "enemy2d36", "enemy2d37", "enemy2d38", "enemy2d39", "enemy2d40"]
	    var y = "";
	    
	    function dontBuildTower() {
	        alert("You cannot build a tower on roads!")
	        allowedToBuildTower = false
	    }
	    
	    function constructTower(towerName) {
	        place = "" + x + "" + y
	        //console.log("Attempting to construct " + towerName + " at " + place)
	        constructedTower++
	        arrayOfTowers.push(place)
	        arrayOfTowers.push(towerName)
	        arrayOfTowers.push("1")
	        arrayOfTowers.push(constructedTower)
	        var elemDiv = document.createElement('img');
	        var towerPlacingDiv = document.getElementById("towerPlacing")
            elemDiv.style.cssText = 'position:fixed;top:' + arrayToReturn[1] +  'px;left:' + arrayToReturn[0] + 'px;width:100px;height:100px;'
            elemDiv.id = place
            elemDiv.class = towerName
            if (towerName == "archer") {
                elemDiv.src = "archerTowerLvl1.jpg"
            } if (towerName == "magician") {
                elemDiv.src = "magicianTowerLvl1.jpg"
            } if (towerName == "sniper") {
                elemDiv.src = "sniperTowerLvl1.jpg"
            } if (towerName == "bomb") {
                elemDiv.src = "bombTowerLvl1.jpg"
            }
            towerPlacingDiv.appendChild(elemDiv);
	        //document.getElementById("towerPlacing").innerHTML+="<div id = '" + place + "'; class = '" + towerName + "'; style='width:100px;height:100px;top:" + arrayToReturn[1] + "px;left:" + arrayToReturn[0] + "px;position:fixed;'><img id = '" + place + "" + towerName + "'; src=" + towerName + "TowerLvl1.jpg height=100px; width=100px; /></div>"
	        towerInfo = ["<strong>Tower Info:</strong> <br>  Archer lvl 1 -> 2 <hr>", "<strong>Range:</strong> <br> 2 tiles -> 2 tiles<hr>", "<strong>Damage:</strong><br>  25 -> 30 <hr>", "<strong>Rate of fire:</strong> <br> 2.5 seconds -> 2.5<hr>", "<strong>Special:</strong> <br> None<hr>", "<strong>Cost:</strong> <br> 100$", "<strong>Tower Info:</strong> <br>  Wizard lvl 1 -> 2 <hr>", "<strong>Range:</strong> <br> 1.5 tiles -> 1.5 tiles<hr>", "<strong>Damage:</strong><br>  25 -> 30 <hr>", "<strong>Rate of fire:</strong> <br> 4 seconds -> 4<hr>", "<strong>Special:</strong> <br> Chace of doube damage 25% -> 30%<hr>", "<strong>Cost:</strong> <br> 200$", "<strong>Tower Info:</strong> <br>  Sniper lvl 1 -> 2 <hr>", "<strong>Range:</strong> <br> 6 tiles -> 6 tiles<hr>", "<strong>Damage:</strong><br>  75 -> 100 <hr>", "<strong>Rate of fire:</strong> <br> 7 seconds -> 7<hr>", "<strong>Special:</strong> <br> Chace of instant kill 5% -> 10%<hr>", "<strong>Cost:</strong> <br> 500$", "<strong>Tower Info:</strong> <br>  Bomb lvl 1 -> 2 <hr>", "<strong>Range:</strong> <br> 2 tiles -> 2 tiles<hr>", "<strong>Damage:</strong><br>  25 -> 35 <hr>", "<strong>Rate of fire:</strong> <br> 10 seconds -> 10<hr>", "<strong>Special:</strong> <br> Explosions<hr>", "<strong>Cost:</strong> <br> 500$", "<strong>Tower Info:</strong> <br>  Archer lvl 2 -> 3 <hr>", "<strong>Range:</strong> <br> 2 tiles -> 2 tiles<hr>", "<strong>Damage:</strong><br>  30 -> 35 <hr>", "<strong>Rate of fire:</strong> <br> 2.5 seconds -> 2.5<hr>", "<strong>Special:</strong> <br> None<hr>", "<strong>Cost:</strong> <br> 100$", "<strong>Tower Info:</strong> <br>  Wizard lvl 2 -> 3 <hr>", "<strong>Range:</strong> <br> 1.5 tiles -> 1.5 tiles<hr>", "<strong>Damage:</strong><br>  30 -> 40 <hr>", "<strong>Rate of fire:</strong> <br> 4 seconds -> 4<hr>", "<strong>Special:</strong> <br> Chace of doube damage 30% -> 35%<hr>", "<strong>Cost:</strong> <br> 200$", "<strong>Tower Info:</strong> <br>  Sniper lvl 2 -> 3 <hr>", "<strong>Range:</strong> <br> 6 tiles -> 6 tiles<hr>", "<strong>Damage:</strong><br>  100 -> 125 <hr>", "<strong>Rate of fire:</strong> <br> 7 seconds -> 7<hr>", "<strong>Special:</strong> <br> Chace of instant kill 10% -> 15%<hr>", "<strong>Cost:</strong> <br> 500$", "<strong>Tower Info:</strong> <br>  Bomb lvl 2 -> 3 <hr>", "<strong>Range:</strong> <br> 2 tiles -> 2 tiles<hr>", "<strong>Damage:</strong><br>  35 -> 50 <hr>", "<strong>Rate of fire:</strong> <br> 10 seconds -> 10<hr>", "<strong>Special:</strong> <br> Explosions<hr>", "<strong>Cost:</strong> <br> 500$", "<strong>Tower Info:</strong> <br>  Archer lvl 3 -> 4 <hr>", "<strong>Range:</strong> <br> 2 tiles -> 2 tiles<hr>", "<strong>Damage:</strong><br>  35 -> 50 <hr>", "<strong>Rate of fire:</strong> <br> 2.5 seconds -> 2.5<hr>", "<strong>Special:</strong> <br> None<hr>", "<strong>Cost:</strong> <br> 100$", "<strong>Tower Info:</strong> <br>  Wizard lvl 3 -> 4 <hr>", "<strong>Range:</strong> <br> 1.5 tiles -> 1.5 tiles<hr>", "<strong>Damage:</strong><br>  40 -> 65 <hr>", "<strong>Rate of fire:</strong> <br> 4 seconds -> 4<hr>", "<strong>Special:</strong> <br> Chace of doube damage 45% -> 55%<hr>", "<strong>Cost:</strong> <br> 200$", "<strong>Tower Info:</strong> <br>  Sniper lvl 3 -> 4 <hr>", "<strong>Range:</strong> <br> 6 tiles -> 6 tiles<hr>", "<strong>Damage:</strong><br>  125 -> 150 <hr>", "<strong>Rate of fire:</strong> <br> 7 seconds -> 7<hr>", "<strong>Special:</strong> <br> Chace of instant kill 15% -> 20%<hr>", "<strong>Cost:</strong> <br> 500$", "<strong>Tower Info:</strong> <br>  Bomb lvl 3 -> 4 <hr>", "<strong>Range:</strong> <br> 2 tiles -> 2 tiles<hr>", "<strong>Damage:</strong><br>  50 -> 75 <hr>", "<strong>Rate of fire:</strong> <br> 10 seconds -> 10<hr>", "<strong>Special:</strong> <br> Explosions<hr>", "<strong>Cost:</strong> <br> 500$", "<strong>Tower Info:</strong> <br>  Archer lvl 4 -> 5 <hr>", "<strong>Range:</strong> <br> 2 tiles -> 2 tiles<hr>", "<strong>Damage:</strong><br>  50 -> 75 <hr>", "<strong>Rate of fire:</strong> <br> 2.5 seconds -> 2.5<hr>", "<strong>Special:</strong> <br> None<hr>", "<strong>Cost:</strong> <br> 200$", "<strong>Tower Info:</strong> <br>  Wizard lvl 4 -> 5 <hr>", "<strong>Range:</strong> <br> 1.5 tiles -> 1.5 tiles<hr>", "<strong>Damage:</strong><br>  65 -> 100 <hr>", "<strong>Rate of fire:</strong> <br> 4 seconds -> 4<hr>", "<strong>Special:</strong> <br> Chace of doube damage 55% -> 75%<hr>", "<strong>Cost:</strong> <br> 400$", "<strong>Tower Info:</strong> <br>  Sniper lvl 4 -> 5 <hr>", "<strong>Range:</strong> <br> 6 tiles -> 6 tiles<hr>", "<strong>Damage:</strong><br>  150 -> 225 <hr>", "<strong>Rate of fire:</strong> <br> 7 seconds -> 7<hr>", "<strong>Special:</strong> <br> Chace of instant kill 20% -> 25%<hr>", "<strong>Cost:</strong> <br> 1000$", "<strong>Tower Info:</strong> <br>  Bomb lvl 4 -> 5 <hr>", "<strong>Range:</strong> <br> 2 tiles -> 2 tiles<hr>", "<strong>Damage:</strong><br>  125 -> 175 <hr>", "<strong>Rate of fire:</strong> <br> 10 seconds -> 10<hr>", "<strong>Special:</strong> <br> Explosions<hr>", "<strong>Cost:</strong> <br> 1000$", "<strong>Tower Info:</strong> <br>  Archer lvl 5 <hr>", "<strong>Range:</strong> <br> 2 tiles<hr>", "<strong>Damage:</strong><br> 75 <hr>", "<strong>Rate of fire:</strong> <br> 2.5 seconds<hr>", "<strong>Special:</strong> <br> None<hr>", "<strong>Cost:</strong> <br> None", "<strong>Tower Info:</strong> <br>  Wizard lvl 5 <hr>", "<strong>Range:</strong> <br> 1.5 tiles<hr>", "<strong>Damage:</strong><br> 100 <hr>", "<strong>Rate of fire:</strong> <br> 4 seconds -> 4<hr>", "<strong>Special:</strong> <br> Chace of doube damage 75% <hr>", "<strong>Cost:</strong> <br> None", "<strong>Tower Info:</strong> <br>  Sniper lvl 5 <hr>", "<strong>Range:</strong> <br> 6 tiles<hr>", "<strong>Damage:</strong><br>  225 <hr>", "<strong>Rate of fire:</strong> <br> 7 seconds -> 7<hr>", "<strong>Special:</strong> <br> Chace of instant kill 25%<hr>", "<strong>Cost:</strong> <br> None", "<strong>Tower Info:</strong> <br>  Bomb lvl 5 <hr>", "<strong>Range:</strong> <br> 2 tiles<hr>", "<strong>Damage:</strong><br> 175 <hr>", "<strong>Rate of fire:</strong> <br> 10 seconds<hr>", "<strong>Special:</strong> <br> Explosions<hr>", "<strong>Cost:</strong> <br> None",]
	        towerInfoBlock = document.getElementById("towerInfoDisplay")
	        if (towerName == "archer") {
	            towerInfoBlock.innerHTML += towerInfo[0] + "" + towerInfo[1] + "" + towerInfo[2] + "" + towerInfo[3] + "" + towerInfo[4] + "" + towerInfo[5]
	            damage = 25
	            archerTowerLvl1(place, x, y, damage, "archer", constructedTower)
	        }
	        if (towerName == "magician") { 
	            towerInfoBlock.innerHTML += towerInfo[6] + "" + towerInfo[7] + "" + towerInfo[8] + "" + towerInfo[9] + "" + towerInfo[10] + "" + towerInfo[11]
	            damage = 25
	            wizardTowerLvl1(place, x, y, damage, "magician", constructedTower)
	        }
	        if (towerName == "sniper") {
	            towerInfoBlock.innerHTML += towerInfo[12] + "" + towerInfo[13] + "" + towerInfo[14] + "" + towerInfo[15] + "" + towerInfo[16] + "" + towerInfo[17]
	            damage = 75
	            wizardTowerLvl1(place, x, y, damage, "sniper", constructedTower)
	        }
	        if (towerName == "bomb") {
	            towerInfoBlock.innerHTML += towerInfo[18] + "" + towerInfo[19] + "" + towerInfo[20] + "" + towerInfo[21] + "" + towerInfo[22] + "" + towerInfo[23]
	            damage = 50
	            wizardTowerLvl1(place, x, y, damage, "bomb", constructedTower)
	        }
	        return arrayOfTowers
	    }
	    
	    function buildTower() {
	        if (allowedToBuildTower) {
	            clickX = 0
                clickY = 0
                handleEvent(event, clickX, clickY);
                
                x = x - 2/3
                y = y - 2/3
                
                x = Math.floor(x/100)*100
                y = Math.floor(y/100)*100
                console.log(x, y)
                if (y >= 200 && y < 300 && x >= 0 && x < 300) {
                    alert("You cannot build a tower on roads!")
                    //console.log("1")
                    return x
                } else if (y >= 400 && y < 500 && x >= 0 && x < 300) {
                    alert("You cannot build a tower on roads!")
                    //console.log("2")
                    return x
                } else if (y >= 100 && y < 200 && x >= 200 && x < 900) {
                    alert("You cannot build a tower on roads!")
                    //console.log("3")
                    return x
                } else if (y >= 500 && y < 600 && x >= 200 && x < 900) {
                    alert("You cannot build a tower on roads!")
                    //console.log("4")
                    return x
                } else if (y >= 100 && y < 600 && x >= 800 && x < 900) {
                    alert("You cannot build a tower on roads!")
                    //console.log("5")
                    return x
                } else {
                    //console.log("Correct placement.")
                }
                var i = 0
                var varToCheck = "" + x + "" + y
                var upgradeOrConstruct = "construct"
                while (i < arrayOfTowers.length) {
                    if (arrayOfTowers[i] == varToCheck) {
                        upgradeOrConstruct = "upgrade"
                        var upgradeTower = document.getElementById("upgradeTower");
                        var fromTop = upgradeTower.style.top;
                        positionFromTop = "" + y + "px"
                        upgradeTower.style.top = positionFromTop;
                        var fromLeft = upgradeTower.style.left;
                        positionFromLeft = "" + x + "px"
                        upgradeTower.style.left = positionFromLeft;
                        
                        var selectTower = document.getElementById("selectTower");
                        selectTower.style.top = "-100px"
                        selectTower.style.left = "-100px"
                        if (arrayOfTowers[i + 1] == "archer") {
                            var rangeToChange = document.getElementById("archerRange")
                            rangeToChange.style.top = "" + (y - 200) + "px"
                            rangeToChange.style.left = "" + (x - 200) + "px"
                            var rangeToChange = document.getElementById("wizardRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-1000px"
                            var rangeToChange = document.getElementById("sniperRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            var rangeToChange = document.getElementById("bombRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            if (arrayOfTowers[i + 2] == "1") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[0] + "" + towerInfo[1] + "" + towerInfo[2] + "" + towerInfo[3] + "" + towerInfo[4] + "" + towerInfo[5]
                            }
                            if (arrayOfTowers[i + 2] == "2") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[24] + "" + towerInfo[25] + "" + towerInfo[26] + "" + towerInfo[27] + "" + towerInfo[28] + "" + towerInfo[29]
                            }
                            if (arrayOfTowers[i + 2] == "3") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[48] + "" + towerInfo[49] + "" + towerInfo[50] + "" + towerInfo[51] + "" + towerInfo[52] + "" + towerInfo[53]
                            }
                            if (arrayOfTowers[i + 2] == "4") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[72] + "" + towerInfo[73] + "" + towerInfo[74] + "" + towerInfo[75] + "" + towerInfo[76] + "" + towerInfo[77]
                            }
                            if (arrayOfTowers[i + 2] == "5") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[96] + "" + towerInfo[97] + "" + towerInfo[98] + "" + towerInfo[99] + "" + towerInfo[100] + "" + towerInfo[101]
                            }
                            
                        }
                        if (arrayOfTowers[i + 1] == "magician") {
                            var rangeToChange = document.getElementById("wizardRange")
                            rangeToChange.style.top = "" + (y - 150) + "px"
                            rangeToChange.style.left = "" + (x - 150) + "px"
                            var rangeToChange = document.getElementById("archerRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            var rangeToChange = document.getElementById("sniperRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            var rangeToChange = document.getElementById("bombRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            if (arrayOfTowers[i + 2] == "1") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[6] + "" + towerInfo[7] + "" + towerInfo[8] + "" + towerInfo[9] + "" + towerInfo[10] + "" + towerInfo[11]
                            }
                            if (arrayOfTowers[i + 2] == "2") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[30] + "" + towerInfo[31] + "" + towerInfo[32] + "" + towerInfo[33] + "" + towerInfo[34] + "" + towerInfo[35]
                            }
                            if (arrayOfTowers[i + 2] == "3") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[54] + "" + towerInfo[55] + "" + towerInfo[56] + "" + towerInfo[57] + "" + towerInfo[58] + "" + towerInfo[59]
                            }
                            if (arrayOfTowers[i + 2] == "4") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[78] + "" + towerInfo[79] + "" + towerInfo[80] + "" + towerInfo[81] + "" + towerInfo[82] + "" + towerInfo[83]
                            }
                            if (arrayOfTowers[i + 2] == "5") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[102] + "" + towerInfo[103] + "" + towerInfo[104] + "" + towerInfo[105] + "" + towerInfo[106] + "" + towerInfo[107]
                            }
                            
                        }
                        if (arrayOfTowers[i + 1] == "sniper") {
                            var rangeToChange = document.getElementById("sniperRange")
                            rangeToChange.style.top = "" + (y - 600) + "px"
                            rangeToChange.style.left = "" + (x - 600) + "px"
                            var rangeToChange = document.getElementById("wizardRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            var rangeToChange = document.getElementById("archerRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            var rangeToChange = document.getElementById("bombRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            if (arrayOfTowers[i + 2] == "1") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[12] + "" + towerInfo[13] + "" + towerInfo[14] + "" + towerInfo[15] + "" + towerInfo[16] + "" + towerInfo[17]
                            }
                            if (arrayOfTowers[i + 2] == "2") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[36] + "" + towerInfo[37] + "" + towerInfo[38] + "" + towerInfo[39] + "" + towerInfo[40] + "" + towerInfo[41]
                            }
                            if (arrayOfTowers[i + 2] == "3") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[60] + "" + towerInfo[61] + "" + towerInfo[62] + "" + towerInfo[63] + "" + towerInfo[64] + "" + towerInfo[65]
                            }
                            if (arrayOfTowers[i + 2] == "4") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[84] + "" + towerInfo[85] + "" + towerInfo[86] + "" + towerInfo[87] + "" + towerInfo[88] + "" + towerInfo[89]
                            }
                            if (arrayOfTowers[i + 2] == "5") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[108] + "" + towerInfo[109] + "" + towerInfo[110] + "" + towerInfo[111] + "" + towerInfo[112] + "" + towerInfo[113]
                            }
                        }
                        if (arrayOfTowers[i + 1] == "bomb") {
                            var rangeToChange = document.getElementById("bombRange")
                            rangeToChange.style.top = "" + (y - 200) + "px"
                            rangeToChange.style.left = "" + (x - 200) + "px"
                            var rangeToChange = document.getElementById("wizardRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            var rangeToChange = document.getElementById("sniperRange")
                            rangeToChange.style.top = "-10000px"
                            rangeToChange.style.left = "-10000px"
                            var rangeToChange = document.getElementById("archerRange")
                            rangeToChange.style.top = "-1000px"
                            rangeToChange.style.left = "-10000px"
                            if (arrayOfTowers[i + 2] == "1") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[18] + "" + towerInfo[19] + "" + towerInfo[20] + "" + towerInfo[21] + "" + towerInfo[22] + "" + towerInfo[23]
                            }
                            if (arrayOfTowers[i + 2] == "2") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[42] + "" + towerInfo[43] + "" + towerInfo[44] + "" + towerInfo[45] + "" + towerInfo[46] + "" + towerInfo[47]
                            }
                            if (arrayOfTowers[i + 2] == "3") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[66] + "" + towerInfo[67] + "" + towerInfo[68] + "" + towerInfo[69] + "" + towerInfo[70] + "" + towerInfo[71]
                            }
                            if (arrayOfTowers[i + 2] == "4") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[90] + "" + towerInfo[91] + "" + towerInfo[92] + "" + towerInfo[93] + "" + towerInfo[94] + "" + towerInfo[95]
                            }
                            if (arrayOfTowers[i + 2] == "5") {
                                towerInfoBlock = document.getElementById("towerInfoDisplay")
                                towerInfoBlock.innerHTML = towerInfo[114] + "" + towerInfo[115] + "" + towerInfo[116] + "" + towerInfo[117] + "" + towerInfo[118] + "" + towerInfo[119]
                            }
                            
                        }
                        
                    }
                    i = i + 3
                }
                if (upgradeOrConstruct == "construct") {
                
                    var selectTower = document.getElementById("selectTower");
                    var fromTop = selectTower.style.top;
                    positionFromTop = "" + y + "px"
                    selectTower.style.top = positionFromTop;
                    var fromLeft = selectTower.style.left;
                    positionFromLeft = "" + x + "px"
                    selectTower.style.left = positionFromLeft;
                
                    var selectTower = document.getElementById("upgradeTower");
                    selectTower.style.top = "-100px"
                    selectTower.style.left = "-100px"
                    
                    var rangeToChange = document.getElementById("archerRange")
                    rangeToChange.style.top = "-10000px"
                    rangeToChange.style.left = "-10000px"
                    var rangeToChange = document.getElementById("wizardRange")
                    rangeToChange.style.top = "-10000px"
                    rangeToChange.style.left = "-1000px"
                    var rangeToChange = document.getElementById("sniperRange")
                    rangeToChange.style.top = "-10000px"
                    rangeToChange.style.left = "-10000px"
                    var rangeToChange = document.getElementById("bombRange")
                    rangeToChange.style.top = "-10000px"
                    rangeToChange.style.left = "-10000px"
                }
                /*
                var keyframes = findKeyframesRule("moveToPlace");
                
                // remove the existing 0% and 100% rules
                keyframes.deleteRule("0%");
                keyframes.deleteRule("100%");
                // create new 0% and 100% rules with random numbers randomFromTo(-360,360)
                console.log(keyframes)
                //@-webkit-keyframes moveToPlace { ↵  0% { transform: rotate(0deg); top: 509px; left: 506px; }↵  100% { transform: rotate(0deg); top: 509px; left: 506px; }↵}
                //@-webkit-keyframes r { ↵  0% { transform: rotate(0deg); top: 286px; left: 84px; }↵  0% { transform: rotate(0deg); top: 0px; left: 0px; }↵  100% { transform: rotate(0deg); top: 286px; left: 84px; }↵}
                //@-webkit-keyframes r { ↵  0% { transform: rotate(0deg); top: 0px; left: 0px; }↵  0% { transform: rotate(0deg); top: 367px; left: 66px; }↵  0% { transform: rotate(0deg); top: 0px; left: 0px; }↵  100% { transform: rotate(0deg); top: 367px; left: 66px; }↵}
                keyframes.insertRule("0%{transform:rotate(0deg);top:" + x + "px;left:" + y + "px;}");
                keyframes.insertRule("100%{transform:rotate(0deg);top:" + x + "px;left:" + y + "px; }");
                document.getElementById("selectTower").style.webkitAnimationName = "moveToPlace";
                */
                arrayToReturn = [x, y]
                return arrayToReturn
	        }
	        allowedToBuildTower = true
	    }
	    function handleEvent(e, clickX1, clickY1){
                 var evt = e ? e:window.event;
                 var clickX=0, clickY=0;
                
                 if ((evt.clientX || evt.clientY) &&
                     document.body &&
                     document.body.scrollLeft!=null) {
                  clickX = clickX + evt.clientX + document.body.scrollLeft;
                  clickY = clickY + evt.clientY + document.body.scrollTop;
                 }
                 if ((evt.clientX || evt.clientY) &&
                     document.compatMode=='CSS1Compat' && 
                     document.documentElement && 
                     document.documentElement.scrollLeft!=null) {
                  clickX = clickX + evt.clientX + document.documentElement.scrollLeft;
                  clickY = clickY + evt.clientY + document.documentElement.scrollTop;
                 }
                 if (evt.pageX || evt.pageY) {
                  clickX = clickX + evt.pageX;
                  clickY = clickY + evt.pageY;
                 }
              
                 //alert (evt.type.toUpperCase() + ' mouse event:'
                  //+'\n pageX = ' + clickX
                  //+'\n pageY = ' + clickY 
                  //+'\n clientX = ' + evt.clientX
                  //+'\n clientY = '  + evt.clientY 
                  //+'\n screenX = ' + evt.screenX 
                  //+'\n screenY = ' + evt.screenY
                 //)
                 
                 clickY = clickY1 + clickY
                 clickX = clickX1 + clickX
                 x = clickX/3
                 y = clickY/3
                 return x, y;
                 clickY++
                 
                //bullet = document.getElementById("rocket")
                //bullet.style.webkit-keyframes = "0%{transform:rotate(0deg);top:100px;left:100px;};100%:{transform:rotate(0deg);top:" + clickX + "px;left:" + clickY + "px;}"
                  
        }
        function findKeyframesRule(rule){
        // gather all stylesheets into an array
        var ss = document.styleSheets;
        
            for (var i = 0; i < ss.length; ++i) {
                
                for (var j = 0; j < ss[i].cssRules.length; ++j) {
                    
                    if (ss[i].cssRules[j].type == window.CSSRule.WEBKIT_KEYFRAMES_RULE && ss[i].cssRules[j].name == rule) {
                        return ss[i].cssRules[j];
                    }
                }
            }
            return null;
        }
                
        function sell() {
            var thingToSell = "" + x + "" + y
            var elem = document.getElementById(thingToSell);
            elem.parentNode.removeChild(elem)
            
            console.log("Sold")
            
            var i = 0
            while (i < arrayOfTowers.length) {
                //console.log("[][][]" + i + " " + arrayOfTowers[i] + " " + thingToSell)
                if (arrayOfTowers[i] == thingToSell) {
                   // console.log(arrayOfTowers)
                   //console.log("deleting")
                   arrayOfTowers.splice(i, 1);
                   arrayOfTowers.splice(i, 1);
                   arrayOfTowers.splice(i, 1);
                   arrayOfTowers.splice(i, 1);
                   //console.log(arrayOfTowers)
                }
                i = i + 3
            }
            return arrayOfTowers
        }
                
        function upgrade() {
            console.log("!!!!!!!!!!!!!!!!!!!!!!!")
            var thingToUpgrade = "" + x + "" + y
            var towerToUpgrade = document.getElementById(thingToUpgrade)
            var i = 0
            var towerTypeToUpgrade = ""
            var allowedToUpgrade = false
            while (i < arrayOfTowers.length) {
                //console.log(arrayOfTowers[i] + " " + thingToUpgrade)
                if (arrayOfTowers[i] == thingToUpgrade) {
                    if (parseInt(arrayOfTowers[i + 2]) != 5) {
                        levelToUpgrade = parseInt(arrayOfTowers[i + 2]) + 1
                        towerTypeToUpgrade = arrayOfTowers[i + 1]
                        console.log(" " + i + " " + arrayOfTowers[i])
                        arrayOfTowers[i + 2] = parseInt(arrayOfTowers[i + 2]) + 1
                        allowedToUpgrade = true
                        towerToUpgrade = document.getElementById(arrayOfTowers[i] + "" + arrayOfTowers[i + 1])
                    } else {
                        alert("This is that tower's max level! Upgrade failed!")
                    }
                }
                i = i + 4
            }
            if (allowedToUpgrade) {
                console.log("!!!! " + levelToUpgrade + " " + towerTypeToUpgrade)
                imageToUpgrade = "" + towerTypeToUpgrade + "TowerLvl" + levelToUpgrade + ".jpg"
                //console.log(imageToUpgrade)
                console.log(towerToUpgrade.src + " " + thingToUpgrade + " " + imageToUpgrade)
                towerToUpgrade.src = imageToUpgrade
            }
            return arrayOfTowers
        }
                
        function play() {
            console.log("[]PLAY[]")
            if (canPlay) {
                canPlay = false 
                changePlayButton = document.getElementById("playButton")
                changePlayButton.style.boxShadow = "0px 0px 0px black"
                changePlayButton.style.top = "20px"
                changePlayButton.style.left = "1050px"
                changePlayButton.style.backgroundColor = "orange";
                var delay = 1000
                var i = 0
                var numberOfEnemiesPrinted = 0
                var numberOfEnemiesTaken = 0
                lvl++
                setTimeout(function(){
                    changePlayButton = document.getElementById("playButton")
                    changePlayButton.style.boxShadow = "10px 10px 5px black"
                    changePlayButton.style.top = "10px"
                    changePlayButton.style.left = "1040px"
                    changePlayButton.style.backgroundColor = "gray";
                }, delay);
                setTimeout(function(){
                    lvlToPlay = "lvl" + 1
                    //lvlToPlay = "lvl" + lvl
                    console.log(lvlToPlay)
                    if (lvlToPlay = "lvl1") {
                        numberOfEnemies = 20 
                    }
                    while (i < numberOfEnemies - 1) {
                        setTimeout(function(){
                            numberOfEnemiesPrinted++
                            //console.log("" + lvl1[numberOfEnemiesPrinted - 1] + " " + numberOfEnemiesPrinted + "" + " " + numberOfEnemies)
                            var enemyToSpawn = document.getElementById(lvl1[numberOfEnemiesPrinted - 1])
                            enemyToSpawn.style.webkitAnimationName = "track"
                            setTimeout(function(){
                                
                                numberOfEnemiesTaken++
                                //console.log(delay + " " + numberOfEnemiesTaken + " ")
                                //console.log("despawned")
                                var enemyToDeSpawn = document.getElementById(lvl1[numberOfEnemiesTaken - 1])
                                enemyToDeSpawn.style.webkitAnimationName = "none"
                                if (numberOfEnemiesTaken + 1 == numberOfEnemies) {
                                    canPlay = true;
                                    changePlayButton = document.getElementById("playButton")
                                    changePlayButton.style.backgroundColor = "yellow";
                                    console.log("Wave Despawned")
                                }
                            }, delay * 25)
                            
                        }, delay * (i + 1), i)
                        
                        i++
                    }
                }, delay * 2);
            }
        }
        function checkForHit(tower, x, y, range, damage, damageMultiplier, towerType) {
            var i = 0
            
            random = Math.floor((Math.random() * 100) + 1)
            if (random < damageMultiplier) {
                damage = damage*2
                if (towerType == "sniper") {
                    damage = 500
                }
                //console.log("Double Damage!")
            }
            
            //console.log("Checking for hit from " + tower + " tower")
            while (i < arrayOfEnemies.length) {
                var towerInRange = doElsCollide(tower, arrayOfEnemies[i], range)
                
                if (towerInRange[0]) {
                    hurtEnemy(arrayOfEnemies[i], damage, i)
                    if (towerType == "archer") {
                        //console.log(i + " true archer ", arrowToUse)
                        arrowToUse++
                        if (arrowToUse == 21) {
                            arrowToUse = 1
                        }
                        document.getElementById("arrow" + arrowToUse).style.webkitAnimationName = "none";
                        document.getElementById("arrow" + arrowToUse).style.top = "-100px"
                        document.getElementById("arrow" + arrowToUse).style.left = "-100px"
            
                        //console.log(clickX, clickY) 1000
                        
                        // call the change method, which will update the keyframe animation
                        setTimeout(function(){changeArrow("shoot", x, y, arrowToUse);}, 0);
                        
                        function changeArrow(anim, cX, cY, arrowToUse) {
                            // find our -webkit-keyframe rule
                            var keyframes = findKeyframesRule(anim);
                            
                            //console.log(keyframes)
                            
                            // remove the existing 0% and 100% rules
                            keyframes.deleteRule("0%");
                            keyframes.deleteRule("100%");
                            //console.log(towerInRange)
                            // create new 0% and 100% rules with random numbers randomFromTo(-360,360)
                            keyframes.insertRule("0%{transform:rotate(0deg);top:" + towerInRange[3] + "px;left:" + towerInRange[4] + "px;}");
                            keyframes.insertRule("100%{transform:rotate(0deg);top:" + towerInRange[1] + "px;left:" + towerInRange[2] + "px; }");
                            //console.log("100%{transform:rotate(0deg);top:" + cY + "px;left:" + cX + "px; }")
                            // assign the animation to our element (which will cause the animation to run)
                            document.getElementById("arrow" + arrowToUse).style.webkitAnimationName = anim;
                            setTimeout(function(){
                                    
                                arrowToDelete = document.getElementById("arrow" + arrowToUse)
                                arrowToDelete.style.webkitAnimationName = "none"
                                arrowToDelete.style.top = "-100px;"
                                arrowToDelete.style.left = "-100px;"
                                    
                            }, 500);
                        }
                        return arrowToUse;
                    }
                    if (towerType == "magician") {
                        //console.log(i + " true magic ", magicBallToUse)
                        magicBallToUse++
                        if (magicBallToUse == 21) {
                            magicBallToUse = 1
                        }
                        document.getElementById("magicBall" + magicBallToUse).style.webkitAnimationName = "none";
                        document.getElementById("magicBall" + magicBallToUse).style.top = "-100px"
                        document.getElementById("magicBall" + magicBallToUse).style.left = "-100px"
            
                        //console.log(clickX, clickY) 1000
                        
                        // call the change method, which will update the keyframe animation
                        setTimeout(function(){changeMagic("shoot", x, y, magicBallToUse);}, 0);
                        
                        function changeMagic(anim, cX, cY, magicBallToUse) {
                            // find our -webkit-keyframe rule
                            var keyframes = findKeyframesRule(anim);
                            
                            //console.log(keyframes)
                            
                            // remove the existing 0% and 100% rules
                            keyframes.deleteRule("0%");
                            keyframes.deleteRule("100%");
                            //console.log(towerInRange)
                            // create new 0% and 100% rules with random numbers randomFromTo(-360,360)
                            keyframes.insertRule("0%{transform:rotate(0deg);top:" + towerInRange[3] + "px;left:" + towerInRange[4] + "px;}");
                            keyframes.insertRule("100%{transform:rotate(0deg);top:" + towerInRange[1] + "px;left:" + towerInRange[2] + "px; }");
                            //console.log("100%{transform:rotate(0deg);top:" + cY + "px;left:" + cX + "px; }")
                            // assign the animation to our element (which will cause the animation to run)
                            document.getElementById("magicBall" + magicBallToUse).style.webkitAnimationName = anim;
                                setTimeout(function(){
                                    
                                    arrowToDelete = document.getElementById("magicBall" + magicBallToUse)
                                    arrowToDelete.style.webkitAnimationName = "none"
                                    arrowToDelete.style.top = "-100px;"
                                    arrowToDelete.style.left = "-100px;"
                                    
                                }, 500);
                            }
                            return magicBallToUse;
                        }
                        if (towerType == "sniper") {
                        //console.log(i + " true sniper ", bulletToUse)
                        bulletToUse++
                        if (bulletToUse == 21) {
                            bulletToUse = 1
                        }
                        document.getElementById("bullet" + bulletToUse).style.webkitAnimationName = "none";
                        document.getElementById("bullet" + bulletToUse).style.top = "-100px"
                        document.getElementById("bullet" + bulletToUse).style.left = "-100px"
            
                        //console.log(clickX, clickY) 1000
                        
                        // call the change method, which will update the keyframe animation
                        setTimeout(function(){changeBullet("shoot", x, y, bulletToUse);}, 0);
                        
                        function changeBullet(anim, cX, cY, bulletToUse) {
                            // find our -webkit-keyframe rule
                            var keyframes = findKeyframesRule(anim);
                            
                            //console.log(keyframes)
                            
                            // remove the existing 0% and 100% rules
                            keyframes.deleteRule("0%");
                            keyframes.deleteRule("100%");
                            //console.log(towerInRange)
                            // create new 0% and 100% rules with random numbers randomFromTo(-360,360)
                            keyframes.insertRule("0%{transform:rotate(0deg);top:" + towerInRange[3] + "px;left:" + towerInRange[4] + "px;}");
                            keyframes.insertRule("100%{transform:rotate(0deg);top:" + towerInRange[1] + "px;left:" + towerInRange[2] + "px; }");
                            //console.log("100%{transform:rotate(0deg);top:" + cY + "px;left:" + cX + "px; }")
                            // assign the animation to our element (which will cause the animation to run)
                            document.getElementById("bullet" + bulletToUse).style.webkitAnimationName = anim;
                            setTimeout(function(){
                                    
                                arrowToDelete = document.getElementById("bullet" + bulletToUse)
                                arrowToDelete.style.webkitAnimationName = "none"
                                arrowToDelete.style.top = "-100px;"
                                arrowToDelete.style.left = "-100px;"
                                    
                            }, 500);
                        }
                        return bulletToUse;
                        }
                        if (towerType == "bomb") {
                        //console.log(i + " true sniper ", bulletToUse)
                        bombToUse++
                        if (bombToUse == 21) {
                            bombToUse = 1
                        }
                        document.getElementById("bomb" + bombToUse).style.webkitAnimationName = "none";
                        document.getElementById("bomb" + bombToUse).style.top = "-100px"
                        document.getElementById("bomb" + bombToUse).style.left = "-100px"
            
                        //console.log(clickX, clickY) 1000
                        
                        // call the change method, which will update the keyframe animation
                        setTimeout(function(){changeBomb("shoot", x, y, bombToUse);}, 0);
                        
                        function changeBomb(anim, cX, cY, bombToUse) {
                            // find our -webkit-keyframe rule
                            var keyframes = findKeyframesRule(anim);
                            
                            //console.log(keyframes)
                            
                            // remove the existing 0% and 100% rules
                            keyframes.deleteRule("0%");
                            keyframes.deleteRule("100%");
                            //console.log(towerInRange)
                            // create new 0% and 100% rules with random numbers randomFromTo(-360,360)
                            keyframes.insertRule("0%{transform:rotate(0deg);top:" + towerInRange[3] + "px;left:" + towerInRange[4] + "px;}");
                            keyframes.insertRule("100%{transform:rotate(0deg);top:" + towerInRange[1] + "px;left:" + towerInRange[2] + "px; }");
                            //console.log("100%{transform:rotate(0deg);top:" + cY + "px;left:" + cX + "px; }")
                            // assign the animation to our element (which will cause the animation to run)
                            document.getElementById("bomb" + bombToUse).style.webkitAnimationName = anim;
                            setTimeout(function(){
                                    
                                arrowToDelete = document.getElementById("bomb" + bombToUse)
                                arrowToDelete.style.webkitAnimationName = "none"
                                arrowToDelete.style.top = "-100px;"
                                arrowToDelete.style.left = "-100px;"
                                explosion++
                                //document.getElementById("towerPlacing").innerHTML+="<div id = 'explosion" + explosion + "'; class = 'explosion'; style='z-index:40;width:200px;height:200px;top:" + (parseInt(towerInRange[1]) - 50) + "px;left:" + (parseInt(towerInRange[2]) - 50) + "px;position:fixed;'><img src = 'explosion.png' height=200px; width=200px;></div>"
                                var elemDiv = document.createElement('img');
                                elemDiv.style.cssText = 'position:fixed;width:200px;height:200px;z-index:40;src:"explosion.png";background-image:"explosion.png";top:' + (towerInRange[1] - 75) + 'px;left:' + (towerInRange[2] - 75) + 'px;';
                                elemDiv.id = "explosion" + explosion
                                elemDiv.class = "explosion"
                                elemDiv.src = "explosion.png"
                                elemDivId = "explosion" + explosion
                                i = 0
                                document.body.appendChild(elemDiv);
                                
                                while (i < arrayOfEnemies.length) {
                                    var bombSplash = doElsCollide(elemDivId, arrayOfEnemies[i], 0)
                                    if (bombSplash[0]) {
                                        hurtEnemy(arrayOfEnemies[i], damage/2, i)
                                        console.log("Splash damage on enemy given")
                                    }
                                    i++
                                }
                                
                                setTimeout(function(){
                                    bombsDeleted++
                                    elem = document.getElementById("explosion" + bombsDeleted)
                                    elem.parentNode.removeChild(elem)
                                }, 1000);    
                            }, 500);
                        }
                        return bombToUse;
                    }
                    }
                i++
            }
        }
                function doElsCollide(el1, el2, range) {
                    //console.log("Checking For Collision")
                    el1 = document.getElementById(el1)
                    el2 = document.getElementById(el2)
                    
                    el1.offsetBottom = el1.offsetTop + el1.offsetHeight;
                    el1.offsetRight = el1.offsetLeft + el1.offsetWidth;
                    el2.offsetBottom = el2.offsetTop + el2.offsetHeight;
                    el2.offsetRight = el2.offsetLeft + el2.offsetWidth;
                    
                    collide = !((el1.offsetBottom + range < el2.offsetTop) ||
                     (el1.offsetTop - range > el2.offsetBottom) ||
                     (el1.offsetRight + range < el2.offsetLeft) ||
                     (el1.offsetLeft - range > el2.offsetRight))
                    
                    enemyTop = el2.offsetTop 
                    enemyLeft = el2.offsetLeft
                    towerTop = el1.offsetTop
                    towerLeft = el1.offsetLeft
                    
                    arrayToReturn2 = [collide, enemyTop, enemyLeft, towerTop, towerLeft]
                    //console.log(arrayToReturn2)
                    //console.log(el1 + " " + el1.offsetTop + " " + el1.offsetHeight + " " + el1.offsetLeft + " " + el1.offsetWidth + " " + el1.offsetBottom + " " + el1.offsetRight)
                    //console.log(el2 + " " + el2.offsetTop + " " + el2.offsetHeight + " " + el2.offsetLeft + " " + el2.offsetWidth + " " + el2.offsetBottom + " " + el2.offsetRight)
                    //console.log(" " + range + "")
                    return arrayToReturn2
                    /*
                    el1StyleTop = parseInt(el1.style.top.substring(0, el1.style.top.length - 2)) - range;
                    el2StyleTop = el2.style.top.substring(0, el2.style.top.length - 2);

                    el1StyleLeft = parseInt(el1.style.left.substring(0, el1.style.left.length - 2)) - range;
                    el2StyleLeft = el2.style.left.substring(0, el2.style.left.length - 2);
                    
                    el1StyleHeight = el1.style.height.substring(0, el1.style.height.length - 2);
                    el2StyleHeight = el2.style.height.substring(0, el2.style.height.length - 2);
                    
                    el1StyleWidth = el1.style.width.substring(0, el1.style.width.length - 2);
                    el2StyleWidth = el2.style.width.substring(0, el2.style.width.length - 2);
                    console.log(el1StyleTop)
                    
                    el1StyleBottom = parseInt(el1StyleTop) + parseInt(el1StyleHeight) + range * 2;
                    el1StyleRight = parseInt(el1StyleLeft) + parseInt(el1StyleWidth) + range * 2;
                    el2StyleBottom = parseInt(el2StyleTop)+ parseInt(el2StyleHeight);
                    el2StyleRight = parseInt(el2StyleLeft) + parseInt(el2StyleWidth);
                    console.log(el1 + " " + el1StyleTop + " " + el1StyleHeight + " " + el1StyleLeft + " " + el1StyleWidth + " " + el1StyleBottom + " " + el1StyleRight)
                    console.log(el2 + " " + el2StyleTop + " " + el2StyleHeight + " " + el2StyleLeft + " " + el2StyleWidth + " " + el2StyleBottom + " " + el2StyleRight)
                    return !((el1StyleBottom < el2StyleTop) ||
                             (el1StyleTop > el2StyleBottom) ||
                             (el1StyleRight < el2StyleLeft) ||
                             (el1StyleLeft > el2StyleRight))
                    */
                    
                };
                function hurtEnemy(enemy, damage, i) {
                    //console.log("Damaging Enemy " + enemy + " at damage " + damage + " and " + i)
                    arrayOfEnemiesHealth[i] = arrayOfEnemiesHealth[i] - damage
                    
                    if (arrayOfEnemiesHealth[i] <= 0) {
                        var enemyToDeSpawn = document.getElementById(arrayOfEnemies[i])
                        enemyToDeSpawn.style.webkitAnimationName = "none"
                        arrayOfEnemiesHealth[i] = arrayOfOriginalEnemiesHealth[i]
                    }
                    
                    return arrayOfEnemiesHealth
                }
                
                function archerTowerLvl1(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 1) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            archerTowerLvl1(tower, x, y, damage, towerType, constructedTower)
                        }, 2500)
                    } else {
                        archerTowerLvl2(tower, x, y, 30, towerType, constructedTower)
                        return i
                    }
                }
                function archerTowerLvl2(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 2) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            archerTowerLvl2(tower, x, y, damage, towerType, constructedTower)
                        }, 2500)
                    } else {
                        archerTowerLvl3(tower, x, y, 35, towerType, constructedTower)
                    }
                }
                function archerTowerLvl3(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 3) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            archerTowerLvl3(tower, x, y, damage, towerType, constructedTower)
                        }, 2500)
                    } else {
                        archerTowerLvl4(tower, x, y, 50, towerType, constructedTower)
                    }
                }function archerTowerLvl4(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 4) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            archerTowerLvl4(tower, x, y, damage, towerType, constructedTower)
                        }, 2500)
                    } else {
                        archerTowerLvl5(tower, x, y, 75, towerType, constructedTower)
                    }
                }function archerTowerLvl5(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 5) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            archerTowerLvl5(tower, x, y, damage, towerType, constructedTower)
                        }, 2500)
                    } else {
                        //archerTowerLvl2(tower, x, y, 35)
                    }
                }
                //--------------------------------------------------------------------------
                function wizardTowerLvl1(tower, x, y, damage, towerType, constructedTower) {
                    range = 150
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 1) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 25, towerType)
                            wizardTowerLvl1(tower, x, y, damage, towerType, constructedTower)
                        }, 4000)
                    } else {
                        wizardTowerLvl2(tower, x, y, 30, towerType, constructedTower)
                        return i
                    }
                }
                function wizardTowerLvl2(tower, x, y, damage, towerType, constructedTower) {
                    range = 150
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 2) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 35, towerType)
                            wizardTowerLvl2(tower, x, y, damage, towerType, constructedTower)
                        }, 4000)
                    } else {
                        wizardTowerLvl3(tower, x, y, 40, towerType, constructedTower)
                    }
                }
                function wizardTowerLvl3(tower, x, y, damage, towerType, constructedTower) {
                    range = 150
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 3) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 45, towerType)
                            wizardTowerLvl3(tower, x, y, damage, towerType, constructedTower)
                        }, 4000)
                    } else {
                        wizardTowerLvl4(tower, x, y, 65, towerType, constructedTower)
                    }
                }function wizardTowerLvl4(tower, x, y, damage, towerType, constructedTower) {
                    range = 150
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 4) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 55, towerType)
                            wizardTowerLvl4(tower, x, y, damage, towerType, constructedTower)
                        }, 4000)
                    } else {
                        wizardTowerLvl5(tower, x, y, 100, towerType, constructedTower)
                    }
                }function wizardTowerLvl5(tower, x, y, damage, towerType, constructedTower) {
                    range = 150
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 5) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 75, towerType)
                            wizardTowerLvl5(tower, x, y, damage, towerType, constructedTower)
                        }, 4000)
                    } else {
                        //archerTowerLvl2(tower, x, y, 35)
                    }
                }
                //--------------------------------------------------------------------------
                function sniperTowerLvl1(tower, x, y, damage, towerType, constructedTower) {
                    range = 600
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 1) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 5, towerType)
                            sniperTowerLvl1(tower, x, y, damage, towerType, constructedTower)
                        }, 7000)
                    } else {
                        sniperTowerLvl2(tower, x, y, 100, towerType, constructedTower)
                        return i
                    }
                }
                function sniperTowerLvl2(tower, x, y, damage, towerType, constructedTower) {
                    range = 600
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 2) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 10, towerType)
                            sniperTowerLvl2(tower, x, y, damage, towerType, constructedTower)
                        }, 7000)
                    } else {
                        sniperTowerLvl3(tower, x, y, 125, towerType, constructedTower)
                    }
                }
                function sniperTowerLvl3(tower, x, y, damage, towerType, constructedTower) {
                    range = 600
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 3) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 15, towerType)
                            sniperLvl3(tower, x, y, damage, towerType, constructedTower)
                        }, 7000)
                    } else {
                        sniperTowerLvl4(tower, x, y, 150, towerType, constructedTower)
                    }
                }function sniperTowerLvl4(tower, x, y, damage, towerType, constructedTower) {
                    range = 600
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 4) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 20, towerType)
                            sniperTowerLvl4(tower, x, y, damage, towerType, constructedTower)
                        }, 7000)
                    } else {
                        sniperTowerLvl5(tower, x, y, 225, towerType, constructedTower)
                    }
                }function sniperTowerLvl5(tower, x, y, damage, towerType, constructedTower) {
                    range = 600
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 5) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 25, towerType)
                            sniperTowerLvl5(tower, x, y, damage, towerType, constructedTower)
                        }, 7000)
                    } else {
                        //archerTowerLvl2(tower, x, y, 35)
                    }
                }
                //--------------------------------------------------------------------------
                function bombTowerLvl1(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 1) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            bombTowerLvl1(tower, x, y, damage, towerType, constructedTower)
                        }, 10000)
                    } else {
                        bombTowerLvl2(tower, x, y, 75, towerType, constructedTower)
                        return i
                    }
                }
                function bombTowerLvl2(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 2) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            bombTowerLvl2(tower, x, y, damage, towerType, constructedTower)
                        }, 10000)
                    } else {
                        bombTowerLvl3(tower, x, y, 100, towerType, constructedTower)
                    }
                }
                function bombTowerLvl3(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 3) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            bombTowerLvl3(tower, x, y, damage, towerType, constructedTower)
                        }, 10000)
                    } else {
                        bombTowerLvl4(tower, x, y, 125, towerType, constructedTower)
                    }
                }function bombTowerLvl4(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 4) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            bombTowerLvl4(tower, x, y, damage, towerType, constructedTower)
                        }, 10000)
                    } else {
                        bombTowerLvl5(tower, x, y, 200, towerType, constructedTower)
                    }
                }function bombTowerLvl5(tower, x, y, damage, towerType, constructedTower) {
                    range = 200
                    i = 0
                    while (i < arrayOfTowers.length) {
                        if (arrayOfTowers[i] == tower) {
                            checkForUpgradedTower = i
                        }
                        i++
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 3] != constructedTower) {
                        return i
                    }
                    if (arrayOfTowers[checkForUpgradedTower + 2] == 5) {
                        setTimeout(function(){
                            checkForHit(tower, x, y, range, damage, 0, towerType)
                            bombTowerLvl5(tower, x, y, damage, towerType, constructedTower)
                        }, 10000)
                    } else {
                        //archerTowerLvl2(tower, x, y, 35)
                    }
                }
	</script>
</head>
<body>
    <div id="towerPlacing" onclick = "buildTower()">
        <div id="selectTower" style="width:100px;height:100px;top:-100px;left:-100px;">
            <div id="archerTower" onclick = "constructTower('archer')"><img src="archerTower.png" height="25px;" width="25px;" /></div>
            <div id="bombTower" onclick = "constructTower('bomb')"><img src="bombTower.png" height="25px;" width="25px;" /></div>
            <strong>Select a tower to build</strong>
            <div id="sniperTower" onclick = "constructTower('sniper')"><img src="sniperTower.png" height="25px;" width="25px;" /></div>
            <div id="magicianTower" onclick = "constructTower('magician')"><img src="magicianTower.png" height="25px;" width="25px;" /></div>
        </div>
        <div id="upgradeTower" style="width:100px;height:100px;top:-100px;left:-100px;">
            <div id="sellTower" onclick = "sell()"><img src="sellIcon.jpeg" height="25px;" width="25px;" /></div>
            <div id="upgrade" onclick = "upgrade()"><img src="upgradeIcon.jpeg" height="25px;" width="25px;" /></div>
            <strong>Sell or Upgrade?</strong>
        </div>
        <div id="archerRange" class="range"></div>
        <div id="wizardRange" class="range"></div>
        <div id="sniperRange" class="range"></div>
        <div id="bombRange" class="range"></div>
    </div>
    <div id = "playButton" onclick = "play()">
        <br>
        <br>
        <strong>PLAY</strong>
    </div>
    <div id = "moneyAndScoreDisplay">
        <br>
        <p id = "moneyDisplay">Money: 1000$</p>
        <br>
        <p id = "scoreDisplay">Score: 0</p>
        <br>
        <p id = "livesDisplay">Lives: 20</p>
    </div>
    <div id = "towerInfoDisplay">
        <strong>Tower Info:</strong>
    </div>
    <script>
        //Thanks to Thomas Krnc for this peice of code.
	    y = document.getElementById("towerPlacing").innerHTML
    	for (var i = 1; i <=7; i++) {
    		y +=  "<div id=\"aroundBlock" + i + "\" onclick = \"dontBuildTower()\"><div id=\"block" + i + "\"></div></div>"
    	}
    	for (var x = 1; x <= 2; x++) {
    		for (var i = 1; i <= 40; i++) {
    
    			y += "<div id=\"enemy" + x + "d" + i + "\" class=\"enemy\" onclick=\"dontBuildTower()\" style=\"position:fixed;width:50px;height:50px;top:-1000px;left:-1000px;\"><img src=\"enemy" + x + ".jpeg\" height=\"50px;\" width=\"50px;\" /></div>";
    		}
    	} 
    	for (var i = 1; i <= 20; i++) {
    		y += "<div id=\"arrow" + i + "\" class=\"arrow\"><img src=\"arrow.png\" height=\"25px;\" width=\"25px;\" /></div>"
    	}
    	for (var i = 1; i <= 20; i++) {
    		y += "<div id=\"magicBall" + i + "\" class=\"magic\"><img src=\"magicBall.png\" height=\"25px;\" width=\"25px;\"/></div>"
    	}
    	for (var i = 1; i <= 20; i++) {
    		y += "<div id=\"bullet" + i + "\" class=\"bullet\"><img src=\"bullet.png\" height=\"25px;\" width=\"25px;\"/></div>"
    	}
    	for (var i = 1; i <= 20; i++) {
    		y += "<div id=\"bomb" + i + "\" class=\"bomb\"><img src=\"bomb.png\" height=\"25px;\" width=\"25px;\"/></div>"
    	}
        
        document.getElementById("towerPlacing").innerHTML = y
	</script>
	<script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-66023215-1', 'auto');
      ga('send', 'pageview');
    
    </script>
</body>
</html>